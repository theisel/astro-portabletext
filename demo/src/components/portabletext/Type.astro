---
import type { Props as $, TypedObject } from "astro-portabletext/types";
import { usePortableText } from "astro-portabletext/utils";
import { Counter } from "../counter";

export type Props = $<TypedObject>;

const props = Astro.props;
const typeIs = (type: string) => type === props.node._type;
const { getDefaultComponent } = usePortableText(props.node);

const Cmp =
  typeIs("jsxCounter") || typeIs("svelteCounter")
    ? Counter
    : getDefaultComponent();
---

<Cmp {...props} />
